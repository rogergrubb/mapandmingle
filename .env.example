# ===========================================
# MapMingle Backend Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# Environment
NODE_ENV=development

# Server
PORT=3000

# ===========================================
# REQUIRED - Must be set in production
# ===========================================

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/mapandmingle?schema=public

# JWT Secrets (generate with: openssl rand -base64 32)
JWT_SECRET=your-secret-key-at-least-32-characters-long
JWT_REFRESH_SECRET=your-refresh-secret-key-at-least-32-characters

# App URLs
APP_URL=https://mapandmingle-production.up.railway.app
FRONTEND_URL=https://mapandmingle.vercel.app

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated list of allowed origins
CORS_ORIGINS=https://mapandmingle.com,https://www.mapandmingle.com,https://mapandmingle.vercel.app

# ===========================================
# OPTIONAL - Third Party Services
# ===========================================

# AWS S3 Configuration (for file uploads)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
S3_BUCKET_NAME=mapmingle-uploads
CDN_URL=https://your-cloudfront-distribution.cloudfront.net

# Stripe Configuration (for payments)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs (create these in Stripe dashboard)
STRIPE_BASIC_MONTHLY_PRICE_ID=price_basic_monthly
STRIPE_BASIC_YEARLY_PRICE_ID=price_basic_yearly
STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_premium_monthly
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_premium_yearly

# Resend Email Configuration
RESEND_API_KEY=re_your_resend_api_key
FROM_EMAIL=MapMingle <noreply@mapandmingle.com>

# Anthropic AI Configuration (for content moderation)
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key

# Web Push Notifications (VAPID Keys)
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:admin@mapandmingle.com

# Redis (optional, for distributed rate limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================================
# Rate Limiting (optional overrides)
# ===========================================
# These have sensible defaults in config/index.ts
# RATE_LIMIT_AUTH_MAX=10
# RATE_LIMIT_AUTH_WINDOW_MS=900000
# RATE_LIMIT_API_MAX=100
# RATE_LIMIT_API_WINDOW_MS=60000
